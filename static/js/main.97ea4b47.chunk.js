(this["webpackJsonpyandex-music-token"]=this["webpackJsonpyandex-music-token"]||[]).push([[0],{32:function(e,t,a){e.exports=a(46)},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),o=a(8),s=a(11),i=a(9),m=a(10),u=a(49),h=a(47),p=a(27),d=a(50),b=a(51),E=a(14),f=a(6),y=a(54),_=a(52),x=a(48),j=a(21),w=a(16),O=a.n(w),v=a(20),k=function e(){var t=this;Object(o.a)(this,e),this.oauth_url="https://oauth.yandex.com",this.client_id="23cabbbdc6cd418abb4b39c32c41195d",this.client_secret="53bc75238f0c4d08a118e51fe9203300",this.generate_token_by_username_and_password=function(){var e=Object(v.a)(O.a.mark((function e(a,n,r,c){var l,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l="".concat(t.oauth_url,"/token"),o={grant_type:"password",client_id:t.client_id,client_secret:t.client_secret,username:a,password:n},r&&c&&(o=Object(f.a)(Object(f.a)({},o),{},{x_captcha_answer:r,x_captcha_key:c})),e.next=5,t.post(l,o).then((function(e){return e.json()})).then((function(e){return e.access_token}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),this.send_token_to_backend=function(){var e=Object(v.a)(O.a.mark((function e(a,n,r){var c,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://".concat(a,".koteeq.me/yandex"),l={hash:n,token:r},e.next=4,t.post(c,l).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.serialize=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},this.handleCaptcha=function(e,t){throw e.includes("Wrong")?new C(t):new g(t)},this.post=function(e,a){return fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.serialize(a)}).then((function(e){return e.ok?e:e.json().then((function(e){var a=e.error_description||"Unknown HTTP Error";if(a.includes("CAPTCHA"))return t.handleCaptcha(a,e);throw new Error(a)}))}))}},g=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this)).body=e,n}return a}(Object(j.a)(Error)),C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this)).body=e,n}return a}(Object(j.a)(Error)),N=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).api=new k,n.mirror="https://tx.me/",n.handleChange=function(e){var t,a=e.target,r=a.name,c=a.value;n.setState(Object(f.a)(Object(f.a)({},n.state),{},(t={},Object(E.a)(t,r,c),Object(E.a)(t,"error",null),t)))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(f.a)(Object(f.a)({},n.state),{},{x_captcha_url:void 0,x_captcha_key:void 0}));var t=n.state,a=t.username,r=t.password,c=t.x_captcha_answer,l=t.x_captcha_key;n.api.generate_token_by_username_and_password(a,r,c,l).then((function(e){n.api.send_token_to_backend(n.state.branch,n.state.hash,e).then((function(e){window.location.href="tg://resolve?domain=nowplaybot",n.setState(Object(f.a)(Object(f.a)({},n.state),{},{authenticated:!0}))})).catch((function(e){n.setState(Object(f.a)(Object(f.a)({},n.state),{},{error:e}))}))})).catch((function(e){if(e instanceof g||e instanceof C){var t=e.body,a=t.x_captcha_url,r=t.x_captcha_key,c=t.error_description;n.setState(Object(f.a)(Object(f.a)({},n.state),{},{x_captcha_url:a,x_captcha_key:r,error:c}))}else n.setState(Object(f.a)(Object(f.a)({},n.state),{},{error:e}))}))};var r=window.location.search,c=new URLSearchParams(r);return n.state={username:"",password:"",error:null,authenticated:!1,displayName:c.get("display_name"),hash:c.get("hash"),branch:c.get("branch")||"np"},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.x_captcha_url,a=e.error,n=e.authenticated,c=e.displayName,l=e.hash;return c&&l?n?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"tg://resolve?domain=nowplaybot"},r.a.createElement(y.a,{variant:"primary",block:!0},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0431\u043e\u0442\u0430")),r.a.createElement("small",{className:"text-muted "},"\u0415\u0441\u043b\u0438 \u043a\u043d\u043e\u043f\u043a\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 -",r.a.createElement("a",{href:"".concat(this.mirror,"nowplaybot")}," \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435"))):r.a.createElement(_.a,null,r.a.createElement("p",null,r.a.createElement("b",null,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d \u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e ",c)),r.a.createElement(_.a.Group,{controlId:"formBasicEmail"},r.a.createElement(_.a.Label,{column:!1},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d, \u043f\u043e\u0447\u0442\u0443 \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d:"),r.a.createElement(_.a.Control,{name:"username",onChange:this.handleChange,type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d, \u043f\u043e\u0447\u0442\u0443 \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"})),r.a.createElement(_.a.Group,{controlId:"formBasicPassword"},r.a.createElement(_.a.Label,{column:!1},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(_.a.Control,{name:"password",onChange:this.handleChange,type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),t&&r.a.createElement(_.a.Group,{controlId:"formBasicCaptcha"},r.a.createElement(h.a,{className:"mb-2"},r.a.createElement(p.a,null,r.a.createElement(x.a,{fluid:!0,src:t})),r.a.createElement(p.a,{className:"align-self-center"},r.a.createElement(y.a,{className:"btn-block",type:"submit",onClick:this.handleSubmit},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"))),r.a.createElement(h.a,null,r.a.createElement(p.a,null,r.a.createElement(_.a.Control,{name:"x_captcha_answer",onChange:this.handleChange,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0441 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"})))),r.a.createElement(y.a,{variant:"primary",type:"submit",block:!0,onClick:this.handleSubmit},"\u0412\u043e\u0439\u0442\u0438"),a&&r.a.createElement("p",{className:"mt-1 text-danger"},"".concat(a))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("b",null,"\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0432\u044b \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043f\u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0435, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0444\u043e\u0440\u043c\u044b \u043d\u0435 \u0431\u0443\u0434\u0435\u0442.")),r.a.createElement("p",null,r.a.createElement("a",{href:"".concat(this.mirror,"nowplaybot")},"\u0412\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u0432 \u0431\u043e\u0442\u0430")," \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430."))}}]),a}(r.a.Component),S=a(53),T=a(28),P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(S.a,{className:"mb-4"},r.a.createElement(S.a.Header,{className:"text-center"},r.a.createElement(T.a,{size:this.props.size,icon:this.props.icon})),r.a.createElement(S.a.Body,null,r.a.createElement(S.a.Title,null,this.props.title),r.a.createElement(S.a.Text,null,this.props.text)))}}]),a}(r.a.Component);P.defaultProps={size:"7x"};var I=P,z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(h.a,{className:"mt-5"},r.a.createElement(p.a,{className:"d-none d-xl-block col-md-3"}),r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement(u.a,null,r.a.createElement("h4",null,r.a.createElement("a",{href:"tg://resolve?domain=nowplaybot"},"@nowplaybot")," ",r.a.createElement(d.a,{variant:"primary"},"Yandex.Music")))),r.a.createElement(h.a,null,r.a.createElement(u.a,null,r.a.createElement("p",null,"\u042d\u0442\u0430 \u0444\u043e\u0440\u043c\u0430 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0434\u043b\u044f \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0432\u0430\u0448\u0435\u0439 \u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0443\u0437\u044b\u043a\u0438 \u0438 \u0431\u043e\u0442\u0430 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0430\u043d\u043d\u044b\u0445 \u0442\u0440\u0435\u043a\u043e\u0432 \u0432 \u0422\u0435\u043b\u0435\u0433\u0440\u0430\u043c."),r.a.createElement("p",null,"\u0421\u043c\u0435\u043b\u043e \u0432\u0432\u043e\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0438\u0436\u0435. \u0415\u0441\u043b\u0438 \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0435\u0442\u0435, \u043f\u043e\u043a\u0430\u0436\u0438\u0442\u0435 \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443 \u043b\u044e\u0431\u043e\u043c\u0443 \u0434\u0440\u0443\u0433\u0443-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442\u0443 \u2014 \u043e\u043d \u043e\u0431\u044a\u044f\u0441\u043d\u0438\u0442, \u0447\u0442\u043e \u0432\u0441\u0451 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435.")))),r.a.createElement(p.a,{className:"d-none d-xl-block col-md-3"})),r.a.createElement(h.a,null,r.a.createElement(p.a,{className:"d-none d-xl-block col-md-3"}),r.a.createElement(p.a,null,r.a.createElement(N,null)),r.a.createElement(p.a,{className:"d-none d-xl-block col-md-3"})),r.a.createElement(h.a,{className:"mt-5"},r.a.createElement(u.a,{className:"justify-content-center "},r.a.createElement("h2",{className:"text-center mb-3"},"\u041f\u0440\u0438\u0447\u0438\u043d\u044b, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043d\u0430\u043c \u0441\u0442\u043e\u0438\u0442 \u0434\u043e\u0432\u0435\u0440\u044f\u0442\u044c"),r.a.createElement(h.a,null,r.a.createElement(b.a,null,r.a.createElement(I,{icon:["fab","yandex"],title:"\u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0432 \u042f\u043d\u0434\u0435\u043a\u0441!",text:"\u0412\u0430\u0448 \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441 \u0412\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430 \u0441\u0440\u0430\u0437\u0443 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0430 \u0431\u0435\u0437 \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e \u043f\u043e\u0441\u0440\u0435\u0434\u043d\u0438\u043a\u043e\u0432."}),r.a.createElement(I,{icon:["fab","expeditedssl"],title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435!",text:"\u0412\u0441\u0435 \u0432\u0430\u0448\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0432 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435 \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b HTTPS."}),r.a.createElement(I,{icon:"key",title:"\u041d\u0435 \u0445\u0440\u0430\u043d\u0438\u043c \u0432\u0430\u0448\u0438 \u043f\u0430\u0440\u043e\u043b\u0438!",text:"\u041d\u0430 \u043d\u0430\u0448\u0438\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445 \u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0412\u0430\u0448 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438."})),r.a.createElement(b.a,null,r.a.createElement(I,{icon:"code",title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434!",text:"\u0412\u0435\u0441\u044c \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d \u0432 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438 \u043d\u0430 GitHub \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430."}),r.a.createElement(I,{icon:"shield-alt",title:"\u0422\u043e\u043b\u044c\u043a\u043e \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435!",text:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 OAuth \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u042f\u043d\u0434\u0435\u043a\u0441\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0435 \u0432 \u0438\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u0445."}),r.a.createElement(I,{icon:"spinner",title:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435!",text:"\u0412\u0435\u0441\u044c \u043a\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432 \u0412\u0430\u0448\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u0431\u0435\u0437 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432\u043c\u0435\u0448\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0441 \u0447\u044c\u0435\u0439-\u043b\u0438\u0431\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b."}))))),r.a.createElement("hr",null),r.a.createElement(h.a,{className:"mb-3"},r.a.createElement(u.a,null,r.a.createElement(h.a,{className:"d-flex justify-content-between"},r.a.createElement(p.a,null,r.a.createElement("span",null,"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434: ",r.a.createElement("a",{href:"https://github.com/aprosvetova/nowplaybot-yandex-auth"},"nowplaybot-yandex-auth"))),r.a.createElement(p.a,{className:"text-right"},r.a.createElement("span",null," \u0410\u0432\u0442\u043e\u0440 ",r.a.createElement("a",{href:"https://github.com/MarshalX/yandex-music-token"},"\u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0438"),": ",r.a.createElement("a",{href:"tg://resolve?domain=MarshalX"},"@MarshalX")))))))}}]),a}(n.Component),B=(a(44),a(45),a(15)),H=a(29),G=a(30),M=a(31);B.b.add(H.a,G.a,M.a),l.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.97ea4b47.chunk.js.map